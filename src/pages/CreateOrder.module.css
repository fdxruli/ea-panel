/* ea-panel-main/src/pages/CreateOrder.module.css */

.container {
    padding: 0;
}

.mainGrid {
    display: grid;
    /* Por defecto, una columna para móvil */
    grid-template-columns: 1fr;
    gap: 1.5rem; /* Reducido para móvil */
    align-items: flex-start;
}

/* En pantallas más grandes, volver a 2 columnas */
@media (min-width: 900px) {
    .mainGrid {
        grid-template-columns: 2fr 1fr;
        gap: 2rem;
    }
}


.workflowColumn {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

.stepCard {
    background-color: var(--bg-secondary);
    border: 1px solid var(--border-color);
    border-radius: var(--border-radius);
    padding: 1.5rem;
    transition: all 0.3s ease;
    opacity: 0.6;
}

.stepCard.active {
    opacity: 1;
    box-shadow: 0 8px 25px var(--shadow-color);
    border-color: var(--color-primary);
}

.stepHeader {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 1.5rem;
    border-bottom: 1px solid var(--border-color);
    padding-bottom: 1rem;
}

.stepNumber {
    background-color: var(--color-primary);
    color: white;
    width: 36px;
    height: 36px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2rem;
    font-weight: 700;
    flex-shrink: 0; /* Evita que se encoja */
}

.selectedCustomer {
    background-color: var(--bg-primary);
    padding: 1rem;
    border-radius: 8px;
    border: 1px solid var(--border-color);
}
.selectedCustomer p {
    margin: 0.5rem 0;
    word-break: break-word; /* Para nombres largos */
}
.changeButton {
    background: none;
    color: var(--color-primary);
    text-decoration: underline;
    font-size: 0.9rem;
    padding: 0;
    margin-top: 0.5rem;
    border: none;
    cursor: pointer;
}
.searchInput {
    position: relative;
    display: flex;
    align-items: center;
}
.searchInput svg {
    position: absolute;
    left: 12px;
    color: var(--text-secondary);
    pointer-events: none; /* Para que no interfiera con el input */
}
.searchInput input {
    padding-left: 40px;
    width: 100%;
}
.customerResults {
    list-style: none;
    margin-top: 0.5rem;
    border: 1px solid var(--border-color);
    border-radius: 8px;
    max-height: 150px;
    overflow-y: auto;
    background: var(--bg-secondary);
}
.customerResults li {
    padding: 0.8rem 1rem; /* Aumentado padding */
    cursor: pointer;
    font-size: 0.95rem; /* Ligeramente más grande */
}
.customerResults li:hover {
    background-color: var(--bg-primary);
}
.customerResults li:not(:last-child) {
    border-bottom: 1px solid var(--border-color);
}
.noResults {
    padding: 0.8rem 1rem;
    font-size: 0.9rem;
    color: var(--text-secondary);
}
.orText {
    text-align: center;
    color: var(--text-secondary);
    margin: 1rem 0;
}

.createCustomerButton {
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    padding: 0.8rem;
    background-color: var(--bg-secondary); /* Estilo secundario */
    color: var(--text-secondary);
    border: 1px solid var(--border-color);
}
.createCustomerButton:hover {
     border-color: var(--color-primary);
     color: var(--color-primary);
}


.productFilters {
    display: flex;
    /* Permitir que se apilen en móvil */
    flex-wrap: wrap;
    gap: 1rem;
    margin-bottom: 1.5rem; /* Aumentado espacio */
}
.productFilters .searchInput {
    min-width: 150px; /* Permitir que sea más pequeño */
}
.productFilters select {
     min-width: 150px; /* Permitir que sea más pequeño */
     flex-grow: 1;
}

.productList {
    max-height: 400px;
    overflow-y: auto;
    display: grid;
    /* Ajuste para móvil: mínimo 120px, máximo 1fr */
    grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
    gap: 1rem;
    padding: 5px; /* Pequeño padding para que el scroll no pegue al borde */
}

/* En pantallas más grandes, aumentar el tamaño mínimo */
@media (min-width: 600px) {
    .productList {
        grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
    }
}

.productItem {
    border: 1px solid var(--border-color);
    border-radius: 8px;
    padding: 0.5rem;
    cursor: pointer;
    text-align: center;
    background-color: var(--bg-secondary); /* Fondo para que se vea bien sobre bg-primary */
    transition: transform 0.2s ease, box-shadow 0.2s ease;
    display: flex;
    flex-direction: column;
}
.productItem:hover {
    transform: translateY(-3px);
    box-shadow: 0 4px 10px var(--shadow-color);
    border-color: var(--color-primary);
}
.productItem img { /* Mantenido */
    width: 100%;
    height: 100px;
    object-fit: cover;
    border-radius: 4px;
    margin-bottom: 0.5rem;
}
.productInfo {
    padding-top: 0.5rem;
    flex-grow: 1; /* Empuja los precios hacia abajo */
    display: flex;
    flex-direction: column;
    justify-content: space-between; /* Separa nombre y precio */
}
.productInfo strong { /* Nombre */
    font-size: 0.9rem; /* Ligeramente más pequeño */
    margin-bottom: 0.5rem; /* Espacio antes del precio */
    line-height: 1.3; /* Mejor interlineado */
}
.price, .specialPrice {
    font-size: 1rem;
    font-weight: 600;
    color: var(--text-primary);
}
.specialPrice {
    color: var(--color-error); /* O el color que uses para ofertas */
}
.originalPrice {
    font-size: 0.8rem;
    color: var(--text-secondary);
    text-decoration: line-through;
    display: block; /* Para que esté en línea separada */
    margin-bottom: -2px; /* Ajuste visual */
}


.disabledText { /* Mantenido */
    color: var(--text-secondary);
    text-align: center;
    padding: 2rem;
    grid-column: 1 / -1; /* Ocupa todo el ancho si es el único elemento */
}

.summaryColumn {
    position: sticky;
    top: 80px; /* Ajustar según altura del navbar del admin */
}
/* Hacer el resumen estático en móvil */
@media (max-width: 899px) {
    .summaryColumn {
        position: static;
    }
}

.summaryCard { /* Mantenido */
    background-color: var(--bg-secondary);
    border: 1px solid var(--border-color);
    border-radius: var(--border-radius);
    padding: 1.5rem;
}
.summaryCard h3 { /* Mantenido */
    margin-top: 0;
    border-bottom: 1px solid var(--border-color);
    padding-bottom: 1rem;
    margin-bottom: 1rem;
}
.emptyCart { /* Mantenido */
    text-align: center;
    color: var(--text-secondary);
    padding: 2rem 0;
}
.cartList { /* Mantenido */
    list-style: none;
    max-height: 400px;
    overflow-y: auto;
    padding: 0;
}

/* --- ESTILOS OPTIMIZADOS PARA CADA ITEM DEL CARRITO --- */
.cartList li {
    display: grid;
    /* Definir columnas: imagen, info (flexible), controles (auto), total (auto) */
    grid-template-columns: 50px 1fr auto auto;
    gap: 0.8rem; /* Espacio entre columnas */
    align-items: center;
    padding: 1rem 0;
}

.cartList li:not(:last-child){
    border-bottom: 1px solid var(--border-color);
}

.cartItemImage {
    width: 50px;
    height: 50px;
    object-fit: cover;
    border-radius: 6px;
}

.cartItemInfo {
    display: flex;
    flex-direction: column;
    /* Evitar que el texto se desborde */
    overflow: hidden;
    min-width: 0; /* Necesario para flex/grid item */
}
.cartItemInfo span { /* Nombre producto */
    font-weight: 500;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis; /* Añadir '...' si el nombre es muy largo */
}
.cartItemInfo small { /* Precios */
    font-size: 0.85rem;
    color: var(--text-secondary);
}
.originalPriceSmall {
    text-decoration: line-through;
    margin-right: 0.3rem;
}

.quantityControl {
    display: flex;
    align-items: center;
    gap: 0.4rem; /* Reducido gap */
    grid-column: 3 / 4; /* Colocar en la tercera columna */
    grid-row: 1 / 2; /* Asegurar que esté en la misma fila */
    justify-self: end; /* Alinear a la derecha de su celda */
}
.quantityControl input {
    width: 40px; /* Reducido tamaño */
    text-align: center;
    padding: 0.3rem;
    font-size: 0.9rem; /* Reducida fuente */
    border-radius: 4px;
    border: 1px solid var(--border-color);
    background: var(--bg-primary);
}
.quantityControl button {
    width: 26px; /* Reducido tamaño */
    height: 26px; /* Reducido tamaño */
    border-radius: 50%;
    font-size: 1.2rem; /* Reducida fuente */
    line-height: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0;
    border: 1px solid var(--border-color);
    background: var(--bg-secondary);
    color: var(--color-primary);
}
.removeButton {
    background: none;
    border: none;
    color: var(--color-error);
    padding: 0;
    margin-left: 0.2rem; /* Pequeño espacio a la izquierda */
    cursor: pointer;
}
.removeButton svg {
    width: 18px; /* Ajustar tamaño icono */
    height: 18px;
}

/* Total del item del carrito */
.cartList li > strong {
    grid-column: 4 / 5; /* Colocar en la cuarta columna */
    grid-row: 1 / 2; /* Misma fila */
    font-size: 0.95rem; /* Ligeramente más pequeño */
    font-weight: 600;
    text-align: right;
    white-space: nowrap; /* Evitar que se parta */
}
/* --- FIN DE ESTILOS OPTIMIZADOS DEL CARRITO --- */


.total { /* Mantenido */
    display: flex;
    justify-content: space-between;
    font-size: 1.5rem;
    font-weight: 700;
    margin-top: 1rem;
    padding-top: 1rem;
    border-top: 1px solid var(--border-color);
}
.placeOrderButton { /* Mantenido */
    width: 100%;
    margin-top: 1.5rem;
    padding: 1rem;
    font-size: 1.1rem;
    background-color: var(--color-success); /* Usar variable */
    color: white;
}
.placeOrderButton:disabled {
    opacity: 0.6;
    cursor: not-allowed;
}

/* --- MODAL (sin cambios significativos) --- */
.modalOverlay {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background-color: rgba(0,0,0,0.6); z-index: 1100;
    display: flex; justify-content: center; align-items: center;
    padding: 1rem;
}
.modalContent {
    background: var(--bg-secondary); padding: 2rem;
    border-radius: var(--border-radius); width: 90%; max-width: 450px;
}
.modalContent h2 { margin-top: 0;}
.formGroup { margin-bottom: 1rem;}
.formGroup label {
    display: block;
    margin-bottom: 0.3rem;
    font-weight: 500;
    font-size: 0.9rem;
    color: var(--text-secondary);
}
.modalActions { margin-top: 2rem; display: flex; justify-content: flex-end; gap: 1rem; }

/* Media query adicional para ajustar el item del carrito en pantallas muy pequeñas */
@media (max-width: 400px) {
    .cartList li {
        /* Volver a flex y apilar si es muy estrecho */
        grid-template-columns: 50px 1fr auto; /* Imagen, Info, Controles+Precio */
        grid-template-rows: auto auto; /* Dos filas */
        column-gap: 0.6rem;
        row-gap: 0.5rem;
    }
    .cartItemImage {
        grid-row: 1 / 3; /* Imagen ocupa ambas filas */
    }
    .cartItemInfo {
        grid-column: 2 / 4; /* Info ocupa el resto de la primera fila */
    }
    .quantityControl {
        grid-column: 2 / 3; /* Controles en segunda fila, primera columna de contenido */
        grid-row: 2 / 3;
        justify-self: start; /* Alinear a la izquierda */
    }
    .cartList li > strong {
        grid-column: 3 / 4; /* Total en segunda fila, segunda columna de contenido */
        grid-row: 2 / 3;
        align-self: center; /* Centrar verticalmente */
    }
     .removeButton {
        margin-left: 0.5rem; /* Más espacio para el botón de eliminar */
    }
}

/* ... (Estilos existentes) ... */

/* --- ESTILOS PARA LA SECCIÓN DE PROGRAMACIÓN --- */
.scheduleSection {
    margin-top: 1.5rem;
    padding-top: 1.5rem;
    border-top: 1px dashed var(--border-color);
}
.scheduleSection h4 {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin: 0 0 1rem 0;
    font-size: 1rem;
    color: var(--text-secondary);
}
.scheduleSection svg {
    width: 20px;
    height: 20px;
}

.scheduleInputs {
    display: grid;
    grid-template-columns: 1fr 1fr; /* Dos columnas iguales */
    gap: 1rem;
    margin-bottom: 0.8rem;
}
.scheduleInputs .formGroup {
    margin-bottom: 0; /* Quitar margen inferior del formGroup */
}
.scheduleInputs label {
    font-size: 0.85rem;
    margin-bottom: 0.2rem;
}
.scheduleInputs input[type="date"],
.scheduleInputs input[type="time"] {
    padding: 0.6rem; /* Menos padding */
    font-size: 0.9rem;
}

/* Indicador de calendario en tema oscuro */
[data-theme="dark"] .scheduleInputs input[type="date"]::-webkit-calendar-picker-indicator {
    filter: invert(0.8);
}

.clearScheduleButton {
    background: none;
    border: 1px solid var(--color-error);
    color: var(--color-error);
    font-size: 0.8rem;
    padding: 0.4rem 0.8rem;
    border-radius: 4px;
    cursor: pointer;
    margin-top: 0.5rem;
    display: block; /* Ocupa su propia línea */
}
.clearScheduleButton:hover {
    background-color: rgba(244, 67, 54, 0.1); /* Ligero fondo rojo al pasar el mouse */
}

/* --- FIN ESTILOS PROGRAMACIÓN --- */

/* Ajustes adicionales si son necesarios */
.summaryCard {
    /* Puedes añadir padding-bottom si el botón de limpiar queda muy pegado */
    padding-bottom: 1.5rem;
}

/* ... (Resto de estilos existentes) ... */
